# CryptBudding Simulation Parameters
# Default configuration file - edit values as needed
# 
# Usage:
#   ./CryptBuddingApp -model node2d -config params.ini
#
# Generate a fresh template with current defaults:
#   ./CryptBuddingApp -model node2d -saveconfig my_params.ini

[Simulation]
# modelType = node2d       # Set via -model flag, not config file
endTime = 168.0            # Total simulation time (hours)
dt = 0.005                 # Time step
dtGrow = 0.002             # Growth phase dt (vertex3d only)
relaxationTime = 10.0      # Relaxation phase duration
runNumber = 0
# randomSeed = auto        # Derived from stiffness + runNumber

[Features]
enableLumenPressure = true
enableApicalConstriction = true
enableEcmGuidance = false
enableRelaxation = true
enableSloughing = true
enableDifferentialAdhesion = true
enableCurvatureBending = true

[ECM]
ecmStiffness = 5.0         # Main ECM/BM stiffness parameter
# bmStiffnessNode = 5.0    # Auto: = ecmStiffness
# bmStiffnessVertex = 2.5  # Auto: = ecmStiffness * 0.5
# bmRadius2d = 10.0        # Auto: = organoidRadius2d + 2.0
# bmRadius3d = 12.0        # Auto: = organoidRadius3d + 2.0
bmOffset3dVertex = 1.0
ecmDegradationRate = 0.02
# ecmMaxRadius2d = 32.0    # Auto: = organoidRadius2d * 4.0
# ecmMaxRadius3d = 40.0    # Auto: = organoidRadius3d * 4.0

[Geometry2D]
organoidRadius2d = 8.0
numCells2dNode = 80
numCells2dVertex = 40
innerRadius2d = 6.0
outerRadius2d = 8.0
interactionCutoff2d = 2.5
# t1Threshold2d = auto     # Derived from ecmStiffness
t2Threshold2d = 0.05

[Geometry3D]
numCells3dNode = 100
numCells3dVertex = 200
organoidRadius3d = 10.0
shellThickness3d = 3.0
interactionCutoff3d = 8.0
# sphereRadius3dVertex = 10.0  # Auto: = organoidRadius3d

[Forces]
# Spring/adhesion forces
springStiffness = 30.0
springCutoff = 1.5
apicalApicalAdhesion = 1.2
basalBasalAdhesion = 1.0
apicalBasalAdhesion = 0.5

# Lumen pressure
lumenPressure = 2.0
# lumenEqRadius2d = 9.0   # Auto: = organoidRadius2d + 1.0
# lumenEqRadius3d = 11.0  # Auto: = organoidRadius3d + 1.0

# Apical constriction
apicalConstrictionStrength = 3.0

# Curvature bending (Drasdo 2000 - monolayer enforcement)
bendingStiffness = 5.0
lumenExclusionStrength = 500.0   # Strong repulsion from lumen interior
minRadiusFraction = 0.7          # Cells stay outside 70% of target radius

[VertexModel]
# Nagai-Honda parameters
nhMembraneSurface = 10.0
nhCellCellAdhesion = 1.0
nhBoundaryAdhesion = 2.0

# Surface tension
gammaApical = 0.85
gammaBasal = 0.85
gammaLateral = 0.7
gammaStemScale = 0.7      # Stem cells are softer
gammaTransitScale = 1.0
gammaDiffScale = 1.3      # Paneth/differentiated are stiffer

[CellTypes]
stemFraction = 0.2        # Fraction of stem cells
transitFraction = 0.5     # Fraction of transit-amplifying cells
# Remainder = differentiated/Paneth cells

[CellCycle]
quiescentFraction = 0.7   # Contact inhibition threshold
sloughRadiusFactor = 5.0  # Sloughing boundary = radius * factor

[ECMGuidance]
ecmDomainHalf = 80.0
ecmGridSpacing = 10.0
ecmBaseSpeed = 0.3
